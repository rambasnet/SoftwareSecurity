# Kali Linux latest with useful tools by tsumarios
# https://github.com/tsumarios/Kali-Linux-Dockerfile/blob/master/Dockerfile
FROM kalilinux/kali-rolling

# Set working directory to /root
WORKDIR /root

# Set non-interactive mode to avoid prompts during package installation
ENV DEBIAN_FRONTEND=noninteractive

# Update
RUN apt -y update && apt -y dist-upgrade && apt -y autoremove && apt clean

# Install common and useful tools
RUN apt -y install curl wget net-tools whois netcat-traditional iputils-ping && apt -y autoremove && apt clean

# Install useful languages
RUN apt -y install python3-pip

# Install Kali Linux "Top 10" metapackage and a few cybersecurity useful tools
# https://www.kali.org/tools/kali-meta/#kali-tools-top10
RUN apt -y install kali-tools-top10 exploitdb && apt -y autoremove && apt clean

RUN apt install gvm -y # OpenVAS vulnerability scanner

# Install ZSH shell with custom settings and set it as default shell
RUN apt -y install zsh
RUN sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
COPY config/.zshrc .

ENTRYPOINT ["/bin/zsh"]
